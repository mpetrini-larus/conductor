[
  {
    "createTime": 1757668894271,
    "updateTime": 1771517282619,
    "name": "AddBookmark",
    "description": "Add Bookmark to the current user dashboard",
    "version": 1,
    "tasks": [
      {
        "name": "StartAddBookmarkFlow",
        "taskReferenceName": "start_add_bookmark_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "bookmark": "${workflow.input.bookmark}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "AddBookmarkPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "bookmark",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1757611329487,
    "updateTime": 1771517282733,
    "name": "AddBookmarkPalette",
    "description": "Adds bookmark to the current user",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_add_bookmark_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://usermanager:5001/api/UserManager/Preferences/addBookmark",
            "method": "POST",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.bookmark}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckAddBookmark",
        "taskReferenceName": "switch_bookmark_status_ref",
        "inputParameters": {
          "addBookmarkStatus": "${call_add_bookmark_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "user-preference-logs",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_add_bookmark_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_add_bookmark_api_ref.output.response.statusCode}",
                      "body": "${call_add_bookmark_api_ref.output.response.body}",
                      "reasonPhrase": "${call_add_bookmark_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_add_bookmark_api_ref.output.response.statusCode}",
                    "body": "${call_add_bookmark_api_ref.output.response.body}",
                    "reasonPhrase": "${call_add_bookmark_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "addBookmarkStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "bookmark",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "bookmark": {
        "menu": "/Pizza/Marinara"
      }
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763394670755,
    "updateTime": 1771517283268,
    "name": "AddItem",
    "description": "Add Item",
    "version": 1,
    "tasks": [
      {
        "name": "StartAddItemFlow",
        "taskReferenceName": "start_add_item_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "item": "${workflow.input.item}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "AddItemPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "item",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763338234581,
    "updateTime": 1771517283249,
    "name": "AddItemPalette",
    "description": "Adds Item",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_item_do_id_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://searchengine:5002/api/SearchEngine/Template/Numeration/ItemMasters",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_item_code_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://numerationpolicymanager:5006/api/NumerationPolicyManager/NumerationPolicies/FormattedFormula?BusinessObjectId=${get_item_do_id_ref.output.response.body.businessObjectId}&NumerationId=${get_item_do_id_ref.output.response.body.numerationId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckRetriveCode",
        "taskReferenceName": "switch_code_status_ref",
        "inputParameters": {
          "getNumerationCodeStatus": "${get_item_code_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "sostituisci_code",
              "taskReferenceName": "sostituisci_code",
              "inputParameters": {
                "source": "${workflow.input.item}",
                "nuovo_valore": "${get_item_code_ref.output.response.body.formattedFormula}",
                "queryExpression": ".source + { code: .nuovo_valore }"
              },
              "type": "JSON_JQ_TRANSFORM",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CallHttpWithRetry",
              "taskReferenceName": "call_add_item_api_ref",
              "inputParameters": {
                "http_request": {
                  "uri": "http://itemmanager:5007/api/ItemManager/ItemMasters",
                  "method": "POST",
                  "headers": {
                    "Authorization": "${workflow.input.bearer}"
                  },
                  "body": "${sostituisci_code.output.result}",
                  "connectionTimeOut": 15000,
                  "readTimeOut": 15000
                }
              },
              "type": "HTTP",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": true,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "GetTimeStamp",
              "taskReferenceName": "get_timestamp_1_ref",
              "inputParameters": {
                "evaluatorType": "javascript",
                "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
              },
              "type": "INLINE",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CheckAddItem",
              "taskReferenceName": "switch_item_status_ref",
              "inputParameters": {
                "addItemStatus": "${call_add_item_api_ref.status}"
              },
              "type": "SWITCH",
              "decisionCases": {
                "COMPLETED": [
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "update_preference_view_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "items-logs",
                        "value": {
                          "method": "POST",
                          "userId": "${workflow.input.userId}",
                          "ResponseBody": "${call_add_item_api_ref.output.response.body}"
                        },
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}"
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  },
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "Complete_flow_msg_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "operation_status",
                        "value": {
                          "workflowId": "${workflow.input.transactionId}",
                          "workflowName": "${workflow.input.flowName}",
                          "currentUser": "${workflow.input.userId}",
                          "timeStamp": "${get_timestamp_1_ref.output.result}",
                          "status": "COMPLETED",
                          "outcome": {
                            "statusCode": "${call_add_item_api_ref.output.response.statusCode}",
                            "body": "${call_add_item_api_ref.output.response.body}",
                            "reasonPhrase": "${call_add_item_api_ref.output.response.reasonPhrase}"
                          }
                        },
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}"
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  }
                ]
              },
              "defaultCase": [
                {
                  "name": "KafkaPublishWithExponentialRetry",
                  "taskReferenceName": "Fail_flow_msg_ref",
                  "inputParameters": {
                    "kafka_request": {
                      "topic": "operation_status",
                      "value": {
                        "workflowId": "${workflow.input.transactionId}",
                        "workflowName": "${workflow.input.flowName}",
                        "currentUser": "${workflow.input.userId}",
                        "timeStamp": "${get_timestamp_1_ref.output.result}",
                        "status": "FAILED",
                        "outcome": {
                          "statusCode": "${call_add_bookmark_api_ref.output.response.statusCode}",
                          "body": "${call_add_bookmark_api_ref.output.response.body}",
                          "reasonPhrase": "${call_add_bookmark_api_ref.output.response.reasonPhrase}"
                        }
                      },
                      "bootStrapServers": "kafka-service:9092",
                      "key": "${workflow.input.transactionId}"
                    }
                  },
                  "type": "KAFKA_PUBLISH",
                  "decisionCases": {},
                  "defaultCase": [],
                  "forkTasks": [],
                  "startDelay": 0,
                  "joinOn": [],
                  "optional": false,
                  "defaultExclusiveJoinTask": [],
                  "asyncComplete": false,
                  "loopOver": [],
                  "onStateChange": {},
                  "permissive": false
                }
              ],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "evaluatorType": "value-param",
              "expression": "addItemStatus",
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "GetTimeStamp",
            "taskReferenceName": "get_timestamp_2_ref",
            "inputParameters": {
              "evaluatorType": "javascript",
              "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
            },
            "type": "INLINE",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          },
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg1_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_2_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${get_item_code_ref.output.response.statusCode}",
                    "body": "${get_item_code_ref.output.response.body}",
                    "reasonPhrase": "${get_item_code_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "getNumerationCodeStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "item",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "item": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763394670755,
    "updateTime": 1771517282971,
    "name": "AddSalesQuoteHeader",
    "description": "Add SalesQuote Header",
    "version": 1,
    "tasks": [
      {
        "name": "StartAddSalesQuoteHeaderFlow",
        "taskReferenceName": "start_add_sales_quote_header_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteHeader": "${workflow.input.salesQuoteHeader}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "AddSalesQuoteHeaderPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeader",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763338234581,
    "updateTime": 1771517283034,
    "name": "AddSalesQuoteHeaderPalette",
    "description": "Adds SalesQuote Header",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_sales_quote_do_id_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://searchengine:5002/api/SearchEngine/Template/Numeration/SalesQuoteTypes?EntityId=${workflow.input.salesQuoteHeader.typeId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_sales_quote_code_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://numerationpolicymanager:5006/api/NumerationPolicyManager/NumerationPolicies/FormattedFormula?BusinessObjectId=${get_sales_quote_do_id_ref.output.response.body.businessObjectId}&NumerationId=${get_sales_quote_do_id_ref.output.response.body.numerationId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckRetriveCode",
        "taskReferenceName": "switch_sales_quote_headers_status_ref",
        "inputParameters": {
          "getNumerationCodeStatus": "${get_sales_quote_code_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "sostituisci_code",
              "taskReferenceName": "sostituisci_code",
              "inputParameters": {
                "source": "${workflow.input.salesQuoteHeader}",
                "nuovo_valore": "${get_sales_quote_code_ref.output.response.body}",
                "queryExpression": ".source + { quoteCode: .nuovo_valore.formattedFormula, quoteNumber: .nuovo_valore.number }"
              },
              "type": "JSON_JQ_TRANSFORM",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CallHttpWithRetry",
              "taskReferenceName": "call_add_sales_quote_api_ref",
              "inputParameters": {
                "http_request": {
                  "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteHeaders",
                  "method": "POST",
                  "headers": {
                    "Authorization": "${workflow.input.bearer}"
                  },
                  "body": "${sostituisci_code.output.result}",
                  "connectionTimeOut": 15000,
                  "readTimeOut": 15000
                }
              },
              "type": "HTTP",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": true,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "GetTimeStamp",
              "taskReferenceName": "get_timestamp_1_ref",
              "inputParameters": {
                "evaluatorType": "javascript",
                "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
              },
              "type": "INLINE",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CheckAddSalesQuoteHeader",
              "taskReferenceName": "switch_item_status_ref",
              "inputParameters": {
                "addSalesQuoteStatus": "${call_add_sales_quote_api_ref.status}"
              },
              "type": "SWITCH",
              "decisionCases": {
                "COMPLETED": [
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "update_preference_view_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "sales-quote-headers-logs",
                        "value": {
                          "method": "POST",
                          "userId": "${workflow.input.userId}",
                          "ResponseBody": "${call_add_sales_quote_api_ref.output.response.body}"
                        },
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}"
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  },
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "Complete_flow_msg_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "operation_status",
                        "value": {
                          "workflowId": "${workflow.input.transactionId}",
                          "workflowName": "${workflow.input.flowName}",
                          "currentUser": "${workflow.input.userId}",
                          "timeStamp": "${get_timestamp_1_ref.output.result}",
                          "status": "COMPLETED",
                          "outcome": {
                            "statusCode": "${call_add_sales_quote_api_ref.output.response.statusCode}",
                            "body": "${call_add_sales_quote_api_ref.output.response.body}",
                            "reasonPhrase": "${call_add_sales_quote_api_ref.output.response.reasonPhrase}"
                          }
                        },
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}"
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  }
                ]
              },
              "defaultCase": [
                {
                  "name": "KafkaPublishWithExponentialRetry",
                  "taskReferenceName": "Fail_flow_msg_ref",
                  "inputParameters": {
                    "kafka_request": {
                      "topic": "operation_status",
                      "value": {
                        "workflowId": "${workflow.input.transactionId}",
                        "workflowName": "${workflow.input.flowName}",
                        "currentUser": "${workflow.input.userId}",
                        "timeStamp": "${get_timestamp_1_ref.output.result}",
                        "status": "FAILED",
                        "outcome": {
                          "statusCode": "${call_add_sales_quote_api_ref.output.response.statusCode}",
                          "body": "${call_add_sales_quote_api_ref.output.response.body}",
                          "reasonPhrase": "${call_add_sales_quote_api_ref.output.response.reasonPhrase}"
                        }
                      },
                      "bootStrapServers": "kafka-service:9092",
                      "key": "${workflow.input.transactionId}"
                    }
                  },
                  "type": "KAFKA_PUBLISH",
                  "decisionCases": {},
                  "defaultCase": [],
                  "forkTasks": [],
                  "startDelay": 0,
                  "joinOn": [],
                  "optional": false,
                  "defaultExclusiveJoinTask": [],
                  "asyncComplete": false,
                  "loopOver": [],
                  "onStateChange": {},
                  "permissive": false
                }
              ],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "evaluatorType": "value-param",
              "expression": "addSalesQuoteStatus",
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "GetTimeStamp",
            "taskReferenceName": "get_timestamp_2_ref",
            "inputParameters": {
              "evaluatorType": "javascript",
              "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
            },
            "type": "INLINE",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          },
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg1_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_2_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${get_sales_quote_code_ref.output.response.statusCode}",
                    "body": "${get_sales_quote_code_ref.output.response.body}",
                    "reasonPhrase": "${get_sales_quote_code_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "getNumerationCodeStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeader",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteHeader": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763394670755,
    "updateTime": 1771517282821,
    "name": "AddSalesQuoteLine",
    "description": "Add SalesQuote Line",
    "version": 1,
    "tasks": [
      {
        "name": "StartAddSalesQuoteLineFlow",
        "taskReferenceName": "start_add_sales_quote_line_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteLine": "${workflow.input.salesQuoteLine}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "AddSalesQuoteLinePalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLine",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763338234581,
    "updateTime": 1771517282846,
    "name": "AddSalesQuoteLinePalette",
    "description": "Adds SalesQuote Line",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_add_sales_quote_line_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteLines",
            "method": "POST",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.salesQuoteLine}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckAddSalesQuoteLine",
        "taskReferenceName": "switch_sales_quote_line_status_ref",
        "inputParameters": {
          "addSalesQuoteLineStatus": "${call_add_sales_quote_line_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-lines-logs",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_add_sales_quote_line_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_add_sales_quote_line_api_ref.output.response.statusCode}",
                      "body": "${call_add_sales_quote_line_api_ref.output.response.body}",
                      "reasonPhrase": "${call_add_sales_quote_line_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_add_bookmark_api_ref.output.response.statusCode}",
                    "body": "${call_add_bookmark_api_ref.output.response.body}",
                    "reasonPhrase": "${call_add_bookmark_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "addSalesQuoteLineStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLine",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteLine": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761496695928,
    "updateTime": 1771517283765,
    "name": "CreateCustomer",
    "description": "Create Customer via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartCreateCustomerFlow",
        "taskReferenceName": "start_create_customer_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "customer": "${workflow.input.customer}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "CreateCustomerPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "customer",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761497229239,
    "updateTime": 1771517283836,
    "name": "CreateCustomerPalette",
    "description": "Create Customer via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_customer_do_id_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://searchengine:5002/api/SearchEngine/Template/Numeration/AccountTypes?EntityId=${workflow.input.customer.accountTypeId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_customer_code_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://numerationpolicymanager:5006/api/NumerationPolicyManager/NumerationPolicies/FormattedFormula?BusinessObjectId=${get_customer_do_id_ref.output.response.body.businessObjectId}&NumerationId=${get_customer_do_id_ref.output.response.body.numerationId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckRetriveCode",
        "taskReferenceName": "switch_code_status_ref",
        "inputParameters": {
          "getNumerationCodeStatus": "${get_customer_code_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "sostituisci_code",
              "taskReferenceName": "sostituisci_code",
              "inputParameters": {
                "source": "${workflow.input.customer}",
                "nuovo_valore": "${get_customer_code_ref.output.response.body.formattedFormula}",
                "queryExpression": ".source + { code: .nuovo_valore }"
              },
              "type": "JSON_JQ_TRANSFORM",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CallHttpWithRetry",
              "taskReferenceName": "create_customer_ref",
              "inputParameters": {
                "http_request": {
                  "uri": "http://customermanager:5005/api/CustomerManager/Account",
                  "method": "POST",
                  "headers": {
                    "Authorization": "${workflow.input.bearer}",
                    "Content-Type": "application/json"
                  },
                  "body": "${sostituisci_code.output.result}",
                  "connectionTimeOut": 15000,
                  "readTimeOut": 15000
                }
              },
              "type": "HTTP",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": true,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "GetTimeStamp",
              "taskReferenceName": "get_timestamp_1_ref",
              "inputParameters": {
                "evaluatorType": "javascript",
                "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
              },
              "type": "INLINE",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CheckCreateCustomer",
              "taskReferenceName": "switch_customer_status_ref",
              "inputParameters": {
                "createCustomerStatus": "${create_customer_ref.status}"
              },
              "type": "SWITCH",
              "decisionCases": {
                "COMPLETED": [
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "update_customer_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "account-logs",
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}",
                        "value": {
                          "method": "POST",
                          "userId": "${workflow.input.userId}",
                          "ResponseBody": "${create_customer_ref.output.response.body}"
                        }
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  },
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "Complete_flow_msg_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "operation_status",
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}",
                        "value": {
                          "workflowId": "${workflow.input.transactionId}",
                          "workflowName": "${workflow.input.flowName}",
                          "currentUser": "${workflow.input.userId}",
                          "timeStamp": "${get_timestamp_1_ref.output.result}",
                          "status": "COMPLETED",
                          "outcome": {
                            "statusCode": "${create_customer_ref.output.response.statusCode}",
                            "body": "${create_customer_ref.output.response.body}",
                            "reasonPhrase": "${create_customer_ref.output.response.reasonPhrase}"
                          }
                        }
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  }
                ]
              },
              "defaultCase": [
                {
                  "name": "KafkaPublishWithExponentialRetry",
                  "taskReferenceName": "Fail_flow_msg_0_ref",
                  "inputParameters": {
                    "kafka_request": {
                      "topic": "operation_status",
                      "bootStrapServers": "kafka-service:9092",
                      "key": "${workflow.input.transactionId}",
                      "value": {
                        "workflowId": "${workflow.input.transactionId}",
                        "workflowName": "${workflow.input.flowName}",
                        "currentUser": "${workflow.input.userId}",
                        "timeStamp": "${get_timestamp_1_ref.output.result}",
                        "status": "FAILED",
                        "outcome": {
                          "statusCode": "${create_customer_ref.output.response.statusCode}",
                          "body": "${create_customer_ref.output.response.body}",
                          "reasonPhrase": "${create_customer_ref.output.response.reasonPhrase}"
                        }
                      }
                    }
                  },
                  "type": "KAFKA_PUBLISH",
                  "decisionCases": {},
                  "defaultCase": [],
                  "forkTasks": [],
                  "startDelay": 0,
                  "joinOn": [],
                  "optional": false,
                  "defaultExclusiveJoinTask": [],
                  "asyncComplete": false,
                  "loopOver": [],
                  "onStateChange": {},
                  "permissive": false
                }
              ],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "evaluatorType": "value-param",
              "expression": "createCustomerStatus",
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "GetTimeStamp",
            "taskReferenceName": "get_timestamp_2_ref",
            "inputParameters": {
              "evaluatorType": "javascript",
              "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
            },
            "type": "INLINE",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          },
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg1_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_2_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${get_customer_code_ref.output.response.statusCode}",
                    "body": "${get_customer_code_ref.output.response.body}",
                    "reasonPhrase": "${get_customer_code_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "getNumerationCodeStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "customer",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${create_customer_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1760353440884,
    "updateTime": 1771517281886,
    "name": "DeleteActivity",
    "description": "Delete activities in the calendar via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteActivityFlow",
        "taskReferenceName": "start_delete_activity_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "activityId": "${workflow.input.activityId}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteActivityPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "activityId",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1760353423955,
    "updateTime": 1771517282596,
    "name": "DeleteActivityPalette",
    "description": "Delete activities in the calendar via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "delete_activity_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://activitymanager:5003/api/ActivityManager/CalendarActivities/${workflow.input.activityId}",
            "method": "DELETE",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckDeleteActivity",
        "taskReferenceName": "switch_activity_status_ref",
        "inputParameters": {
          "upsertActivityStatus": "${delete_activity_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_calendar_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "calendar-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${delete_activity_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${delete_activity_ref.output.response.statusCode}",
                      "body": "${delete_activity_ref.output.response.body}",
                      "reasonPhrase": "${delete_activity_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${delete_activity_ref.output.response.statusCode}",
                    "body": "${delete_activity_ref.output.response.body}",
                    "reasonPhrase": "${delete_activity_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "upsertActivityStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "activity",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${delete_activity_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761512030360,
    "updateTime": 1771517283584,
    "name": "DeleteCustomer",
    "description": "Delete Customer via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteCustomerFlow",
        "taskReferenceName": "start_delete_customer_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "customer": "${workflow.input.customer}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteCustomerPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "customer",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761512017690,
    "updateTime": 1771517283817,
    "name": "DeleteCustomerPalette",
    "description": "Delete Customer via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "delete_customer_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://customermanager:5005/api/CustomerManager/Account/${workflow.input.customer}",
            "method": "DELETE",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckDeleteCustomer",
        "taskReferenceName": "switch_customer_status_ref",
        "inputParameters": {
          "deleteCustomerStatus": "${delete_customer_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "delete_customer_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "account-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${delete_customer_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${delete_customer_ref.output.response.statusCode}",
                      "body": "${delete_customer_ref.output.response.body}",
                      "reasonPhrase": "${delete_customer_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${delete_customer_ref.output.response.statusCode}",
                    "body": "${delete_customer_ref.output.response.body}",
                    "reasonPhrase": "${delete_customer_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "deleteCustomerStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "customer",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${delete_customer_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1768298259561,
    "updateTime": 1771517283608,
    "name": "DeleteCustomersWithFilters",
    "description": "Deletey Customers With Filters via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteCustomersWithFilters",
        "taskReferenceName": "start_delete_customers_with_filters_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "filter": "${workflow.input.filter}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteCustomersWithFiltersPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "filter",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1768298657931,
    "updateTime": 1771517283734,
    "name": "DeleteCustomersWithFiltersPalette",
    "description": "Delete Customers With Filters via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "delete_many_customer_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://customermanager:5005/api/CustomerManager/Account/DeleteWithFilters",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "body": "${workflow.input.filter}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckDeleteManyCustomer",
        "taskReferenceName": "switch_customer_status_ref",
        "inputParameters": {
          "deleteManyCustomerStatus": "${delete_many_customer_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "delete_many_customer_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "account-delete-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${delete_many_customer_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${delete_many_customer_ref.output.response.statusCode}",
                      "body": "${delete_many_customer_ref.output.response.body}",
                      "reasonPhrase": "${delete_many_customer_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${delete_many_customer_ref.output.response.statusCode}",
                    "body": "${delete_many_customer_ref.output.response.body}",
                    "reasonPhrase": "${delete_many_customer_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "deleteManyCustomerStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "customer",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${delete_many_customer_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517283283,
    "name": "DeleteItem",
    "description": "Delete Item",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteItemFlow",
        "taskReferenceName": "start_delete_item_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "item": "${workflow.input.item}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteItemPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "item",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517283488,
    "name": "DeleteItemPalette",
    "description": "Delete Item",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_item_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://itemmanager:5007/api/ItemManager/ItemMasters/${workflow.input.item}",
            "method": "DELETE",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateItem",
        "taskReferenceName": "switch_item_status_ref",
        "inputParameters": {
          "updateItemStatus": "${call_delete_item_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "items-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_item_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_item_api_ref.output.response.statusCode}",
                      "body": "${call_delete_item_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_item_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_item_api_ref.output.response.statusCode}",
                    "body": "${call_delete_item_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_item_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateItemStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "item",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "item": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1768301085124,
    "updateTime": 1771517283469,
    "name": "DeleteItemsWithFilters",
    "description": "Deletey Items With Filters via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteItemsWithFilters",
        "taskReferenceName": "start_delete_items_with_filters_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "filter": "${workflow.input.filter}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteItemsWithFiltersPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "filter",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1768301517656,
    "updateTime": 1771517283505,
    "name": "DeleteItemsWithFiltersPalette",
    "description": "Delete Items With Filters via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "delete_items_with_fitler_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://itemmanager:5007/api/ItemManager/ItemMasters/DeleteWithFilters",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "body": "${workflow.input.filter}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckDeleteItemWithFilter",
        "taskReferenceName": "switch_item_status_ref",
        "inputParameters": {
          "deleteItemsWithFitlerStatus": "${delete_items_with_fitler_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "delete_items_with_fitler_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "items-delete-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${delete_items_with_fitler_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${delete_items_with_fitler_ref.output.response.statusCode}",
                      "body": "${delete_items_with_fitler_ref.output.response.body}",
                      "reasonPhrase": "${delete_items_with_fitler_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${delete_items_with_fitler_ref.output.response.statusCode}",
                    "body": "${delete_items_with_fitler_ref.output.response.body}",
                    "reasonPhrase": "${delete_items_with_fitler_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "deleteItemsWithFitlerStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "filter",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${delete_items_with_fitler_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761656561784,
    "updateTime": 1771517283643,
    "name": "DeleteManyCustomer",
    "description": "DeleteMany Customer via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteManyCustomerFlow",
        "taskReferenceName": "start_delete_many_customer_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "customer": "${workflow.input.customer}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteManyCustomerPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "customer",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761656574107,
    "updateTime": 1771517283623,
    "name": "DeleteManyCustomerPalette",
    "description": "DeleteMany Customer via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "delete_many_customer_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://customermanager:5005/api/CustomerManager/Account/Delete",
            "method": "POST",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "body": "${workflow.input.customer}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckDeleteManyCustomer",
        "taskReferenceName": "switch_customer_status_ref",
        "inputParameters": {
          "deleteManyCustomerStatus": "${delete_many_customer_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "delete_many_customer_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "account-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${delete_many_customer_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${delete_many_customer_ref.output.response.statusCode}",
                      "body": "${delete_many_customer_ref.output.response.body}",
                      "reasonPhrase": "${delete_many_customer_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${delete_many_customer_ref.output.response.statusCode}",
                    "body": "${delete_many_customer_ref.output.response.body}",
                    "reasonPhrase": "${delete_many_customer_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "deleteManyCustomerStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "customer",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${delete_many_customer_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517283338,
    "name": "DeleteManyItem",
    "description": "Delete Many Item",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteManyItemFlow",
        "taskReferenceName": "start_delete_many_item_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "itemIds": "${workflow.input.itemIds}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteManyItemPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "itemIds",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517283448,
    "name": "DeleteManyItemPalette",
    "description": "Delete Many Item",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_many_item_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://itemmanager:5007/api/ItemManager/ItemMasters/Delete",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.itemIds}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateItem",
        "taskReferenceName": "switch_item_status_ref",
        "inputParameters": {
          "updateItemStatus": "${call_delete_many_item_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "items-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_many_item_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_many_item_api_ref.output.response.statusCode}",
                      "body": "${call_delete_many_item_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_many_item_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_many_item_api_ref.output.response.statusCode}",
                    "body": "${call_delete_many_item_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_many_item_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateItemStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "itemIds",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "DeleteManyItemFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "itemIds": []
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517283179,
    "name": "DeleteManySalesQuoteHeader",
    "description": "Delete many SalesQuote Header",
    "version": 5,
    "tasks": [
      {
        "name": "StartDeleteManySalesQuoteHeaderFlow",
        "taskReferenceName": "start_delete_many_sales_quote_header_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteHeaderIds": "${workflow.input.salesQuoteHeaderIds}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteManySalesQuoteHeaderPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeaderIds",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517283143,
    "name": "DeleteManySalesQuoteHeaderPalette",
    "description": "Delete many SalesQuoteHeader",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_many_sales_quote_header_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteHeaders/Delete",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.salesQuoteHeaderIds}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteHeader",
        "taskReferenceName": "switch_sales_quote_header_status_ref",
        "inputParameters": {
          "updateSalesQuoteHeaderStatus": "${call_delete_many_sales_quote_header_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-headers-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_many_sales_quote_header_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_many_sales_quote_header_api_ref.output.response.statusCode}",
                      "body": "${call_delete_many_sales_quote_header_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_many_sales_quote_header_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_many_sales_quote_header_api_ref.output.response.statusCode}",
                    "body": "${call_delete_many_sales_quote_header_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_many_sales_quote_header_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteHeaderStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeaderIds",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteHeaderIds": []
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517283194,
    "name": "DeleteManySalesQuoteHeadersWithFilters",
    "description": "Delete many SalesQuote Headers with filters",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteManySalesQuoteHeadersWithFiltersFlow",
        "taskReferenceName": "start_delete_many_sales_quote_headers_with_filters_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "request": "${workflow.input.request}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteManySalesQuoteHeadersWithFiltersPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "request",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517283105,
    "name": "DeleteManySalesQuoteHeadersWithFiltersPalette",
    "description": "Delete many SalesQuoteHeaders with filters",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_many_sales_quote_headers_with_filters_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteHeaders/DeleteWithFilters",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.request}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteHeader",
        "taskReferenceName": "switch_sales_quote_header_status_ref",
        "inputParameters": {
          "updateSalesQuoteHeaderStatus": "${call_delete_many_sales_quote_headers_with_filters_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sq-delete-headers-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.statusCode}",
                      "body": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.statusCode}",
                    "body": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_many_sales_quote_headers_with_filters_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteHeaderStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "request",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "request": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517282957,
    "name": "DeleteManySalesQuoteLine",
    "description": "Delete many SalesQuote Line",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteManySalesQuoteLineFlow",
        "taskReferenceName": "start_delete_many_sales_quote_line_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteLineIds": "${workflow.input.salesQuoteLineIds}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteManySalesQuoteLinePalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLineIds",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517282766,
    "name": "DeleteManySalesQuoteLinePalette",
    "description": "Delete many SalesQuoteLine",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_many_sales_quote_line_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteLines/Delete",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.salesQuoteLineIds}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteLine",
        "taskReferenceName": "switch_sales_quote_line_status_ref",
        "inputParameters": {
          "updateSalesQuoteLineStatus": "${call_delete_many_sales_quote_line_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-lines-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_many_sales_quote_line_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_many_sales_quote_line_api_ref.output.response.statusCode}",
                      "body": "${call_delete_many_sales_quote_line_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_many_sales_quote_line_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_many_sales_quote_line_api_ref.output.response.statusCode}",
                    "body": "${call_delete_many_sales_quote_line_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_many_sales_quote_line_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteLineStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLineIds",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteLineIds": []
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1769769642511,
    "updateTime": 1771517282806,
    "name": "DeleteManySalesQuoteLinesWithFilters",
    "description": "Delete many SalesQuote Lines with filters",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteManySalesQuoteLinesWithFiltersFlow",
        "taskReferenceName": "start_delete_many_sales_quote_lines_with_filters_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "request": "${workflow.input.request}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteManySalesQuoteLinesWithFiltersPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "request",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1769769917803,
    "updateTime": 1771517282867,
    "name": "DeleteManySalesQuoteLinesWithFiltersPalette",
    "description": "Delete many SalesQuoteLines with filters",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_many_sales_quote_lines_with_filters_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteLines/DeleteWithFilters",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.request}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteHeader",
        "taskReferenceName": "switch_sales_quote_header_status_ref",
        "inputParameters": {
          "updateSalesQuoteLineStatus": "${call_delete_many_sales_quote_lines_with_filters_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sq-delete-lines-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.statusCode}",
                      "body": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.statusCode}",
                    "body": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_many_sales_quote_lines_with_filters_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteLineStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "request",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "request": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517283087,
    "name": "DeleteSalesQuoteHeader",
    "description": "Delete SalesQuote Header",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteSalesQuoteHeaderFlow",
        "taskReferenceName": "start_delete_sales_quote_header_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteHeaderId": "${workflow.input.salesQuoteHeaderId}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteSalesQuoteHeaderPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeaderId",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517283127,
    "name": "DeleteSalesQuoteHeaderPalette",
    "description": "Delete SalesQuoteHeader",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_sales_quote_header_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteHeaders/${workflow.input.salesQuoteHeaderId}",
            "method": "DELETE",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteHeader",
        "taskReferenceName": "switch_sales_quote_header_status_ref",
        "inputParameters": {
          "updateSalesQuoteHeaderStatus": "${call_delete_sales_quote_header_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-headers-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_sales_quote_header_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delete_sales_quote_header_api_ref.output.response.statusCode}",
                      "body": "${call_delete_sales_quote_header_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_sales_quote_header_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_sales_quote_header_api_ref.output.response.statusCode}",
                    "body": "${call_delete_sales_quote_header_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_sales_quote_header_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteHeaderStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeaderId",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteHeaderId": "11f91308-26c4-466e-8819-85ab4579a996"
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398046818,
    "updateTime": 1771517282888,
    "name": "DeleteSalesQuoteLine",
    "description": "Delete SalesQuote Line",
    "version": 1,
    "tasks": [
      {
        "name": "StartDeleteSalesQuoteLineFlow",
        "taskReferenceName": "start_delete_sales_quote_line_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteLineId": "${workflow.input.salesQuoteLineId}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "DeleteSalesQuoteLinePalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLineId",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763398270770,
    "updateTime": 1771517282938,
    "name": "DeleteSalesQuoteLinePalette",
    "description": "Delete SalesQuoteLine",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_delete_sales_quote_line_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteLines/${workflow.input.salesQuoteLineId}",
            "method": "DELETE",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteLine",
        "taskReferenceName": "switch_sales_quote_line_status_ref",
        "inputParameters": {
          "updateSalesQuoteLineStatus": "${call_delete_sales_quote_line_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-lines-logs",
                  "value": {
                    "method": "DELETE",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_delete_sales_quote_line_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_delet_sales_quote_line_api_ref.output.response.statusCode}",
                      "body": "${call_delete_sales_quote_line_api_ref.output.response.body}",
                      "reasonPhrase": "${call_delete_sales_quote_line_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_delete_sales_quote_line_api_ref.output.response.statusCode}",
                    "body": "${call_delete_sales_quote_line_api_ref.output.response.body}",
                    "reasonPhrase": "${call_delete_sales_quote_line_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteLineStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLineId",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteLineId": "11f91308-26c4-466e-8819-85ab4579a996"
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761513310622,
    "updateTime": 1771517283661,
    "name": "PromoteCustomer",
    "description": "Promote Customer via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartPromoteCustomerFlow",
        "taskReferenceName": "start_promote_customer_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "promoteCustomer": "${workflow.input.promoteCustomer}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "PromoteCustomerPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "promoteCustomer",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761497229239,
    "updateTime": 1771517283750,
    "name": "PromoteCustomerPalette",
    "description": "Promote Customer via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_customer_do_id_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://searchengine:5002/api/SearchEngine/Template/Numeration/AccountTypes?EntityId=${workflow.input.promoteCustomer.promotedToTypeId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_customer_code_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://numerationpolicymanager:5006/api/NumerationPolicyManager/NumerationPolicies/FormattedFormula?BusinessObjectId=${get_customer_do_id_ref.output.response.body.businessObjectId}&NumerationId=${get_customer_do_id_ref.output.response.body.numerationId}",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckRetriveCode",
        "taskReferenceName": "switch_code_status_ref",
        "inputParameters": {
          "getNumerationCodeStatus": "${get_customer_code_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "sostituisci_code",
              "taskReferenceName": "sostituisci_code",
              "inputParameters": {
                "source": "${workflow.input.promoteCustomer}",
                "nuovo_valore": "${get_customer_code_ref.output.response.body.formattedFormula}",
                "queryExpression": ".source + { newCode: .nuovo_valore }"
              },
              "type": "JSON_JQ_TRANSFORM",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CallHttpWithRetry",
              "taskReferenceName": "promote_customer_ref",
              "inputParameters": {
                "http_request": {
                  "uri": "http://customermanager:5005/api/CustomerManager/Account/Promotes",
                  "method": "POST",
                  "headers": {
                    "Authorization": "${workflow.input.bearer}",
                    "Content-Type": "application/json"
                  },
                  "body": "${sostituisci_code.output.result}",
                  "connectionTimeOut": 15000,
                  "readTimeOut": 15000
                }
              },
              "type": "HTTP",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": true,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "GetTimeStamp",
              "taskReferenceName": "get_timestamp_1_ref",
              "inputParameters": {
                "evaluatorType": "javascript",
                "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
              },
              "type": "INLINE",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CheckPromoteCustomer",
              "taskReferenceName": "switch_customer_status_ref",
              "inputParameters": {
                "promoteCustomerStatus": "${promote_customer_ref.status}"
              },
              "type": "SWITCH",
              "decisionCases": {
                "COMPLETED": [
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "promote_customer_view_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "account-logs",
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}",
                        "value": {
                          "method": "POST",
                          "userId": "${workflow.input.userId}",
                          "ResponseBody": "${promote_customer_ref.output.response.body}"
                        }
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  },
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "Complete_flow_msg_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "operation_status",
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}",
                        "value": {
                          "workflowId": "${workflow.input.transactionId}",
                          "workflowName": "${workflow.input.flowName}",
                          "currentUser": "${workflow.input.userId}",
                          "timeStamp": "${get_timestamp_1_ref.output.result}",
                          "status": "COMPLETED",
                          "outcome": {
                            "statusCode": "${promote_customer_ref.output.response.statusCode}",
                            "body": "${promote_customer_ref.output.response.body}",
                            "reasonPhrase": "${promote_customer_ref.output.response.reasonPhrase}"
                          }
                        }
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  }
                ]
              },
              "defaultCase": [
                {
                  "name": "KafkaPublishWithExponentialRetry",
                  "taskReferenceName": "Fail_flow_msg_0_ref",
                  "inputParameters": {
                    "kafka_request": {
                      "topic": "operation_status",
                      "bootStrapServers": "kafka-service:9092",
                      "key": "${workflow.input.transactionId}",
                      "value": {
                        "workflowId": "${workflow.input.transactionId}",
                        "workflowName": "${workflow.input.flowName}",
                        "currentUser": "${workflow.input.userId}",
                        "timeStamp": "${get_timestamp_1_ref.output.result}",
                        "status": "FAILED",
                        "outcome": {
                          "statusCode": "${promote_customer_ref.output.response.statusCode}",
                          "body": "${promote_customer_ref.output.response.body}",
                          "reasonPhrase": "${promote_customer_ref.output.response.reasonPhrase}"
                        }
                      }
                    }
                  },
                  "type": "KAFKA_PUBLISH",
                  "decisionCases": {},
                  "defaultCase": [],
                  "forkTasks": [],
                  "startDelay": 0,
                  "joinOn": [],
                  "optional": false,
                  "defaultExclusiveJoinTask": [],
                  "asyncComplete": false,
                  "loopOver": [],
                  "onStateChange": {},
                  "permissive": false
                }
              ],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "evaluatorType": "value-param",
              "expression": "promoteCustomerStatus",
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "GetTimeStamp",
            "taskReferenceName": "get_timestamp_2_ref",
            "inputParameters": {
              "evaluatorType": "javascript",
              "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
            },
            "type": "INLINE",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          },
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg1_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_2_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${get_customer_code_ref.output.response.statusCode}",
                    "body": "${get_customer_code_ref.output.response.body}",
                    "reasonPhrase": "${get_customer_code_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "getNumerationCodeStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "promoteCustomer",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${promote_customer_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1770628933879,
    "updateTime": 1771517283003,
    "name": "PromoteSalesQuoteHeader",
    "description": "Promote Sales Quote via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartPromoteSqFlow",
        "taskReferenceName": "start_promote_sq_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "promote": "${workflow.input.promote}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "PromoteSqPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "promoteCustomer",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1770513675790,
    "updateTime": 1771517283069,
    "name": "PromoteSqPalette",
    "description": "Promote Sales Quote via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "get_sq_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://searchengine:5002/api/SearchEngine/SalesQuote/Stages",
            "method": "GET",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckRetriveCode",
        "taskReferenceName": "get_check_sq_ref",
        "inputParameters": {
          "getNumerationCodeStatus": "${get_sq_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "GetStage",
              "taskReferenceName": "get_stage_ref",
              "inputParameters": {
                "evaluatorType": "javascript",
                "expression": "(function(){ if (!$.input1) return null; for (var i = 0; i < $.input1.length; i++) { var item = $.input1[i]; if ($.input2 ? item.useAsAccepted : item.useAsRejected) { return item; } } return null; })()",
                "input1": "${get_sq_ref.output.response.body}",
                "input2": "${workflow.input.promote.promoteReject}"
              },
              "type": "INLINE",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "sostituisci_code",
              "taskReferenceName": "sostituisci_code",
              "inputParameters": {
                "source": "${workflow.input.promote}",
                "nuovo_valore": "${get_stage_ref.output.result.quoteStageId}",
                "queryExpression": ".source + { promotedToStageId: .nuovo_valore }"
              },
              "type": "JSON_JQ_TRANSFORM",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CallHttpWithRetry",
              "taskReferenceName": "promote_sq_ref",
              "inputParameters": {
                "http_request": {
                  "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteHeaders/Promte",
                  "method": "PUT",
                  "headers": {
                    "Authorization": "${workflow.input.bearer}",
                    "Content-Type": "application/json"
                  },
                  "body": "${sostituisci_code.output.result}",
                  "connectionTimeOut": 15000,
                  "readTimeOut": 15000
                }
              },
              "type": "HTTP",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": true,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "GetTimeStamp",
              "taskReferenceName": "get_timestamp_1_ref",
              "inputParameters": {
                "evaluatorType": "javascript",
                "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
              },
              "type": "INLINE",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "CheckPromoteSq",
              "taskReferenceName": "switch_sq_status_ref",
              "inputParameters": {
                "promoteCustomerStatus": "${promote_sq_ref.status}"
              },
              "type": "SWITCH",
              "decisionCases": {
                "COMPLETED": [
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "promote_sq_view_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "sales-quote-headers-logs",
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}",
                        "value": {
                          "method": "POST",
                          "userId": "${workflow.input.userId}",
                          "ResponseBody": "${promote_sq_ref.output.response.body}"
                        }
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  },
                  {
                    "name": "KafkaPublishWithExponentialRetry",
                    "taskReferenceName": "Complete_flow_msg_ref",
                    "inputParameters": {
                      "kafka_request": {
                        "topic": "operation_status",
                        "bootStrapServers": "kafka-service:9092",
                        "key": "${workflow.input.transactionId}",
                        "value": {
                          "workflowId": "${workflow.input.transactionId}",
                          "workflowName": "${workflow.input.flowName}",
                          "currentUser": "${workflow.input.userId}",
                          "timeStamp": "${get_timestamp_1_ref.output.result}",
                          "status": "COMPLETED",
                          "outcome": {
                            "statusCode": "${promote_sq_ref.output.response.statusCode}",
                            "body": "${promote_sq_ref.output.response.body}",
                            "reasonPhrase": "${promote_sq_ref.output.response.reasonPhrase}"
                          }
                        }
                      }
                    },
                    "type": "KAFKA_PUBLISH",
                    "decisionCases": {},
                    "defaultCase": [],
                    "forkTasks": [],
                    "startDelay": 0,
                    "joinOn": [],
                    "optional": false,
                    "defaultExclusiveJoinTask": [],
                    "asyncComplete": false,
                    "loopOver": [],
                    "onStateChange": {},
                    "permissive": false
                  }
                ]
              },
              "defaultCase": [
                {
                  "name": "KafkaPublishWithExponentialRetry",
                  "taskReferenceName": "Fail_flow_msg_0_ref",
                  "inputParameters": {
                    "kafka_request": {
                      "topic": "operation_status",
                      "bootStrapServers": "kafka-service:9092",
                      "key": "${workflow.input.transactionId}",
                      "value": {
                        "workflowId": "${workflow.input.transactionId}",
                        "workflowName": "${workflow.input.flowName}",
                        "currentUser": "${workflow.input.userId}",
                        "timeStamp": "${get_timestamp_1_ref.output.result}",
                        "status": "FAILED",
                        "outcome": {
                          "statusCode": "${promote_sq_ref.output.response.statusCode}",
                          "body": "${promote_sq_ref.output.response.body}",
                          "reasonPhrase": "${promote_sq_ref.output.response.reasonPhrase}"
                        }
                      }
                    }
                  },
                  "type": "KAFKA_PUBLISH",
                  "decisionCases": {},
                  "defaultCase": [],
                  "forkTasks": [],
                  "startDelay": 0,
                  "joinOn": [],
                  "optional": false,
                  "defaultExclusiveJoinTask": [],
                  "asyncComplete": false,
                  "loopOver": [],
                  "onStateChange": {},
                  "permissive": false
                }
              ],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "evaluatorType": "value-param",
              "expression": "promoteCustomerStatus",
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "GetTimeStamp",
            "taskReferenceName": "get_timestamp_2_ref",
            "inputParameters": {
              "evaluatorType": "javascript",
              "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
            },
            "type": "INLINE",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          },
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg1_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_2_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${get_customer_code_ref.output.response.statusCode}",
                    "body": "${get_customer_code_ref.output.response.body}",
                    "reasonPhrase": "${get_customer_code_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "getNumerationCodeStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "promote",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${promote_sq_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1757668976746,
    "updateTime": 1771517282706,
    "name": "RemoveBookmark",
    "description": "Remove Bookmark to the current user dashboard",
    "version": 1,
    "tasks": [
      {
        "name": "StartRemoveBookmarkFlow",
        "taskReferenceName": "start_remove_bookmark_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "bookmark": "${workflow.input.bookmark}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "RemoveBookmarkPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "bookmark",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1757668427557,
    "updateTime": 1771517282680,
    "name": "RemoveBookmarkPalette",
    "description": "Removes bookmark to the current user",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_remove_bookmark_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://usermanager:5001/api/UserManager/Preferences/deleteBookmark",
            "method": "POST",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.bookmark}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckRemoveBookmark",
        "taskReferenceName": "switch_bookmark_status_ref",
        "inputParameters": {
          "removeBookmarkStatus": "${call_remove_bookmark_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "user-preference-logs",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_remove_bookmark_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_remove_bookmark_api_ref.output.response.statusCode}",
                      "body": "${call_remove_bookmark_api_ref.output.response.body}",
                      "reasonPhrase": "${call_remove_bookmark_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_remove_bookmark_api_ref.output.response.statusCode}",
                    "body": "${call_remove_bookmark_api_ref.output.response.body}",
                    "reasonPhrase": "${call_remove_bookmark_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "removeBookmarkStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "bookmark",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "RemoveBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "bookmark": {
        "menu": "/Pizza/Marinara"
      }
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761502340043,
    "updateTime": 1771517283797,
    "name": "UpdateCustomer",
    "description": "Update Customer via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartUpdateCustomerFlow",
        "taskReferenceName": "start_update_customer_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "customer": "${workflow.input.customer}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "UpdateCustomerPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "customer",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1761502328558,
    "updateTime": 1771517283781,
    "name": "UpdateCustomerPalette",
    "description": "Update Customer via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "update_customer_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://customermanager:5005/api/CustomerManager/Account",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "body": "${workflow.input.customer}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateCustomer",
        "taskReferenceName": "switch_customer_status_ref",
        "inputParameters": {
          "updateCustomerStatus": "${update_customer_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_customer_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "account-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${update_customer_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${update_customer_ref.output.response.statusCode}",
                      "body": "${update_customer_ref.output.response.body}",
                      "reasonPhrase": "${update_customer_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${update_customer_ref.output.response.statusCode}",
                    "body": "${update_customer_ref.output.response.body}",
                    "reasonPhrase": "${update_customer_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateCustomerStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "customer",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${update_customer_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763395436898,
    "updateTime": 1771517283390,
    "name": "UpdateItem",
    "description": "Update Item",
    "version": 1,
    "tasks": [
      {
        "name": "StartUpdateItemFlow",
        "taskReferenceName": "start_update_item_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "item": "${workflow.input.item}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "UpdateItemPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "item",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763395195624,
    "updateTime": 1771517283232,
    "name": "UpdateItemPalette",
    "description": "Update Item",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_update_item_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://itemmanager:5007/api/ItemManager/ItemMasters",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.item}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateItem",
        "taskReferenceName": "switch_item_status_ref",
        "inputParameters": {
          "updateItemStatus": "${call_update_item_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "items-logs",
                  "value": {
                    "method": "PUT",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_update_item_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_update_item_api_ref.output.response.statusCode}",
                      "body": "${call_update_item_api_ref.output.response.body}",
                      "reasonPhrase": "${call_update_item_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_update_item_api_ref.output.response.statusCode}",
                    "body": "${call_update_item_api_ref.output.response.body}",
                    "reasonPhrase": "${call_update_item_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateItemStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "item",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "AddBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "item": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1757668894271,
    "updateTime": 1771517283546,
    "name": "UpdateMenuRolesPermission",
    "description": "Update role permission related to a Menu item",
    "version": 1,
    "tasks": [
      {
        "name": "StartUpdateMenuItemRolePermissionFlow",
        "taskReferenceName": "start_menu_role_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "menu": "${workflow.input.menu}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "UpdateMenuRolesPermissionPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "bookmark",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1758467259783,
    "updateTime": 1771517283529,
    "name": "UpdateMenuRolesPermissionPalette",
    "description": "Update role permission related to a Menu item",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_update_role_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://usermanager:5001/api/UserManager/MenuItem/UpdateRoles",
            "method": "POST",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.menu}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateRole",
        "taskReferenceName": "switch_update_role_ref",
        "inputParameters": {
          "updateRoleStatus": "${call_update_role_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "menu-logs",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_update_role_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_update_role_api_ref.output.response.statusCode}",
                      "body": "${call_update_role_api_ref.output.response.body}",
                      "reasonPhrase": "${call_update_role_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_update_role_api_ref.output.response.statusCode}",
                    "body": "${call_update_role_api_ref.output.response.body}",
                    "reasonPhrase": "${call_update_role_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateRoleStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "menu",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "UpdateMenuRolesFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "menu": {
        "Id": "dashboardPage",
        "Roles": [
          "ROLE_USER"
        ]
      }
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763394670755,
    "updateTime": 1771517283166,
    "name": "UpdateSalesQuoteHeader",
    "description": "Update SalesQuote Header",
    "version": 1,
    "tasks": [
      {
        "name": "StartUpdateSalesQuoteHeaderFlow",
        "taskReferenceName": "start_update_sales_quote_header_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteHeader": "${workflow.input.salesQuoteHeader}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "UpdateSalesQuoteHeaderPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeader",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763338234581,
    "updateTime": 1771517282989,
    "name": "UpdateSalesQuoteHeaderPalette",
    "description": "Updates SalesQuote Header",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_update_sales_quote_header_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteHeaders",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.salesQuoteHeader}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteHeader",
        "taskReferenceName": "switch_sales_quote_header_status_ref",
        "inputParameters": {
          "updateSalesQuoteHeaderStatus": "${call_update_sales_quote_header_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-headers-logs",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_update_sales_quote_header_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_update_bookmark_api_ref.output.response.statusCode}",
                      "body": "${call_update_bookmark_api_ref.output.response.body}",
                      "reasonPhrase": "${call_update_bookmark_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_update_bookmark_api_ref.output.response.statusCode}",
                    "body": "${call_update_bookmark_api_ref.output.response.body}",
                    "reasonPhrase": "${call_update_bookmark_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteHeaderStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteHeader",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "UpdateBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteHeader": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763394670755,
    "updateTime": 1771517282786,
    "name": "UpdateSalesQuoteLine",
    "description": "Update SalesQuote Line",
    "version": 1,
    "tasks": [
      {
        "name": "StartUpdateSalesQuoteLineFlow",
        "taskReferenceName": "start_update_sales_quote_line_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "salesQuoteLine": "${workflow.input.salesQuoteLine}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "UpdateSalesQuoteLinePalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLine",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1763338234581,
    "updateTime": 1771517282916,
    "name": "UpdateSalesQuoteLinePalette",
    "description": "Updates SalesQuote Line",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            },
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}"
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "retryCount": 3,
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "call_update_sales_quote_line_api_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://salesquotemanager:5008/api/SalesQuoteManager/SalesQuoteLines",
            "method": "PUT",
            "headers": {
              "Authorization": "${workflow.input.bearer}"
            },
            "body": "${workflow.input.salesQuoteLine}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpdateSalesQuoteLine",
        "taskReferenceName": "switch_sales_quote_line_status_ref",
        "inputParameters": {
          "updateSalesQuoteLineStatus": "${call_update_sales_quote_line_api_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_preference_view_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "sales-quote-lines-logs",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${call_update_sales_quote_line_api_ref.output.response.body}"
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${call_update_bookmark_api_ref.output.response.statusCode}",
                      "body": "${call_update_bookmark_api_ref.output.response.body}",
                      "reasonPhrase": "${call_update_bookmark_api_ref.output.response.reasonPhrase}"
                    }
                  },
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}"
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${call_update_bookmark_api_ref.output.response.statusCode}",
                    "body": "${call_update_bookmark_api_ref.output.response.body}",
                    "reasonPhrase": "${call_update_bookmark_api_ref.output.response.reasonPhrase}"
                  }
                },
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}"
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "updateSalesQuoteLineStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "salesQuoteLine",
      "bearer"
    ],
    "outputParameters": {},
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "tecnical@palete.item",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {
      "flowName": "UpdateBookmarkFlow",
      "transactionId": "",
      "userId": "11f91308-26c4-466e-8819-85ab4579a996",
      "bearer": "",
      "salesQuoteLine": {}
    },
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  },
  {
    "createTime": 1760348627035,
    "updateTime": 1771517282472,
    "name": "UpsertActivity",
    "description": "Create/Update activities in the calendar via the .NET API",
    "version": 1,
    "tasks": [
      {
        "name": "StartUpsertActivityFlow",
        "taskReferenceName": "start_upsert_activity_flow_ref",
        "inputParameters": {
          "transactionId": "${workflow.workflowId}",
          "flowName": "${workflow.workflowType}",
          "userId": "${workflow.input.userId}",
          "activity": "${workflow.input.activity}",
          "bearer": "${workflow.input.bearer}"
        },
        "type": "SUB_WORKFLOW",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "subWorkflowParam": {
          "name": "UpsertActivityPalette"
        },
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "flowName",
      "transactionId",
      "userId",
      "activity",
      "bearer"
    ],
    "outputParameters": {
      "data": "${call_remote_api.output.response.body.data}",
      "source": "${call_remote_api.output.response.body.source}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "example@email.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "BUSINESS_LOGIC"
    },
    "maskedFields": []
  },
  {
    "createTime": 1760348575953,
    "updateTime": 1771517282549,
    "name": "UpsertActivityPalette",
    "description": "Create/Update activities in the calendar via the .NET API",
    "version": 5,
    "tasks": [
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_0_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "KafkaPublishWithExponentialRetry",
        "taskReferenceName": "starting_flow_msg_ref",
        "inputParameters": {
          "kafka_request": {
            "topic": "operation_status",
            "bootStrapServers": "kafka-service:9092",
            "key": "${workflow.input.transactionId}",
            "value": {
              "workflowId": "${workflow.input.transactionId}",
              "workflowName": "${workflow.input.flowName}",
              "currentUser": "${workflow.input.userId}",
              "timeStamp": "${get_timestamp_0_ref.output.result}",
              "status": "RUNNING"
            }
          }
        },
        "type": "KAFKA_PUBLISH",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CallHttpWithRetry",
        "taskReferenceName": "upsert_activity_ref",
        "inputParameters": {
          "http_request": {
            "uri": "http://activitymanager:5003/api/ActivityManager/CalendarActivities/Upsert",
            "method": "POST",
            "headers": {
              "Authorization": "${workflow.input.bearer}",
              "Content-Type": "application/json"
            },
            "body": "${workflow.input.activity}",
            "connectionTimeOut": 15000,
            "readTimeOut": 15000
          }
        },
        "type": "HTTP",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": true,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "GetTimeStamp",
        "taskReferenceName": "get_timestamp_1_ref",
        "inputParameters": {
          "evaluatorType": "javascript",
          "expression": "(function(){ return Math.floor(Date.now() / 1000).toString(); })()"
        },
        "type": "INLINE",
        "decisionCases": {},
        "defaultCase": [],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "onStateChange": {},
        "permissive": false
      },
      {
        "name": "CheckUpsertActivity",
        "taskReferenceName": "switch_activity_status_ref",
        "inputParameters": {
          "upsertActivityStatus": "${upsert_activity_ref.status}"
        },
        "type": "SWITCH",
        "decisionCases": {
          "COMPLETED": [
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "update_calendar_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "calendar-logs",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "method": "POST",
                    "userId": "${workflow.input.userId}",
                    "ResponseBody": "${upsert_activity_ref.output.response.body}"
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            },
            {
              "name": "KafkaPublishWithExponentialRetry",
              "taskReferenceName": "Complete_flow_msg_ref",
              "inputParameters": {
                "kafka_request": {
                  "topic": "operation_status",
                  "bootStrapServers": "kafka-service:9092",
                  "key": "${workflow.input.transactionId}",
                  "value": {
                    "workflowId": "${workflow.input.transactionId}",
                    "workflowName": "${workflow.input.flowName}",
                    "currentUser": "${workflow.input.userId}",
                    "timeStamp": "${get_timestamp_1_ref.output.result}",
                    "status": "COMPLETED",
                    "outcome": {
                      "statusCode": "${upsert_activity_ref.output.response.statusCode}",
                      "body": "${upsert_activity_ref.output.response.body}",
                      "reasonPhrase": "${upsert_activity_ref.output.response.reasonPhrase}"
                    }
                  }
                }
              },
              "type": "KAFKA_PUBLISH",
              "decisionCases": {},
              "defaultCase": [],
              "forkTasks": [],
              "startDelay": 0,
              "joinOn": [],
              "optional": false,
              "defaultExclusiveJoinTask": [],
              "asyncComplete": false,
              "loopOver": [],
              "onStateChange": {},
              "permissive": false
            }
          ]
        },
        "defaultCase": [
          {
            "name": "KafkaPublishWithExponentialRetry",
            "taskReferenceName": "Fail_flow_msg_ref",
            "inputParameters": {
              "kafka_request": {
                "topic": "operation_status",
                "bootStrapServers": "kafka-service:9092",
                "key": "${workflow.input.transactionId}",
                "value": {
                  "workflowId": "${workflow.input.transactionId}",
                  "workflowName": "${workflow.input.flowName}",
                  "currentUser": "${workflow.input.userId}",
                  "timeStamp": "${get_timestamp_1_ref.output.result}",
                  "status": "FAILED",
                  "outcome": {
                    "statusCode": "${upsert_activity_ref.output.response.statusCode}",
                    "body": "${upsert_activity_ref.output.response.body}",
                    "reasonPhrase": "${upsert_activity_ref.output.response.reasonPhrase}"
                  }
                }
              }
            },
            "type": "KAFKA_PUBLISH",
            "decisionCases": {},
            "defaultCase": [],
            "forkTasks": [],
            "startDelay": 0,
            "joinOn": [],
            "optional": false,
            "defaultExclusiveJoinTask": [],
            "asyncComplete": false,
            "loopOver": [],
            "onStateChange": {},
            "permissive": false
          }
        ],
        "forkTasks": [],
        "startDelay": 0,
        "joinOn": [],
        "optional": false,
        "defaultExclusiveJoinTask": [],
        "asyncComplete": false,
        "loopOver": [],
        "evaluatorType": "value-param",
        "expression": "upsertActivityStatus",
        "onStateChange": {},
        "permissive": false
      }
    ],
    "inputParameters": [
      "activity",
      "transactionId",
      "flowName",
      "bearer",
      "userId"
    ],
    "outputParameters": {
      "status": "${upsert_activity_ref.output.response.body.message}"
    },
    "schemaVersion": 2,
    "restartable": true,
    "workflowStatusListenerEnabled": false,
    "ownerEmail": "your-email@example.com",
    "timeoutPolicy": "ALERT_ONLY",
    "timeoutSeconds": 0,
    "variables": {},
    "inputTemplate": {},
    "enforceSchema": true,
    "metadata": {
      "type": "PALETTE"
    },
    "maskedFields": []
  }
]